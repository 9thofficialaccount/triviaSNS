# トリビア特化SNS

引用元記載必須のトリビア共有プラットフォーム

## 🎯 プロジェクト概要

このプロジェクトは、信頼性の高いトリビアを共有するためのSNSプラットフォームです。すべての投稿に引用元の記載を必須とし、コミュニティによる相互検証を通じて、質の高い知識共有を実現します。

## ✨ 主要機能

### 📝 3層構造の投稿フォーマット
- **第1層（前段）**: 知識の出どころを人間味のある形で表現（130字以内）
  - 例：「今日雨が降って傘を差した時、ふと構造が気になって調べてみた」
- **第2層（トリビア）**: 核心的なトリビア内容（130字以内）
  - 簡潔で分かりやすい情報提示
- **第3層（引用元）**: URLリンク、書籍、論文などの参考文献を記載
  - 複数の引用元に対応
  - 即座に情報の裏取りが可能

### 🔍 信頼性管理システム
- **通報システム**: 疑義のある投稿を通報
  - 5件以上の通報で自動的に審査中に移行
  - 管理者による最終審判
- **コミュニティノート**: Twitter/X風の補足情報機能
  - 投稿に文脈や追加情報を提供
  - 有用性評価による表示制御
- **管理者ダッシュボード**: 通報の審査と管理

### 🏷️ タグシステム
- **AIタグ付け**: OpenAI APIによる自動タグ提案
- **ユーザータグ付け**: 手動でのタグ追加
- **トレンドタグ**: 過去7日間の人気タグを表示

### 🔎 検索と発見性
- **全文検索**: 投稿内容、タグ、ユーザーを検索
- **ハイブリッドタイムライン**: 時系列とおすすめのミックス
- **トレンド機能**: 人気のあるトピックを発見

### 📤 共有機能
- リンクのコピー
- Twitter/Facebook共有
- 画像魚拓化（スクリーンショット保存）

## 🚀 クイックスタート

### ローカル開発環境

#### 必要な環境
- Node.js 18以上
- PostgreSQL 14以上
- npm または yarn

#### インストール手順

```bash
# 1. 依存関係のインストール
npm install

# 2. 環境変数の設定
cp .env.example .env
# .env.localファイルを編集してデータベース情報を設定

# 3. データベースのマイグレーション
npx prisma migrate dev --name init
npx prisma generate

# 4. サンプルデータの投入（オプション）
npm run db:seed

# 5. 開発サーバーの起動
npm run dev
```

ブラウザで http://localhost:3000 を開いてください。

### 🌐 すぐに公開したい場合

**15分で完全無料デプロイ！**

詳しくは [QUICK_START.md](./QUICK_START.md) を参照してください。

簡単3ステップ:
1. GitHubにプッシュ
2. Vercelでデプロイ（ワンクリック）
3. データベース初期化

詳細なデプロイガイド: [DEPLOY_GUIDE.md](./DEPLOY_GUIDE.md)

## 📂 プロジェクト構造

```
trivia-sns/
├── app/                    # Next.js App Router
│   ├── api/               # API Routes
│   │   ├── posts/        # 投稿関連API
│   │   ├── search/       # 検索API
│   │   ├── tags/         # タグAPI
│   │   └── admin/        # 管理者API
│   ├── admin/            # 管理者ダッシュボード
│   ├── search/           # 検索ページ
│   ├── layout.tsx        # ルートレイアウト
│   ├── page.tsx          # ホームページ
│   └── globals.css       # グローバルスタイル
├── components/            # Reactコンポーネント
│   ├── Header.tsx        # ヘッダー
│   ├── Timeline.tsx      # タイムライン
│   ├── TriviaPost.tsx    # 投稿カード
│   ├── CreatePostModal.tsx      # 投稿作成モーダル
│   ├── ShareModal.tsx           # 共有モーダル
│   ├── ReportModal.tsx          # 通報モーダル
│   ├── CommunityNoteModal.tsx   # コミュニティノートモーダル
│   └── Sidebar.tsx       # サイドバー
├── lib/                   # ユーティリティ
│   ├── prisma.ts         # Prismaクライアント
│   ├── ai-tags.ts        # AIタグ付けロジック
│   └── utils.ts          # 汎用ユーティリティ
├── prisma/                # データベース
│   ├── schema.prisma     # Prismaスキーマ
│   └── seed.ts           # シードデータ
├── types/                 # TypeScript型定義
│   └── index.ts
├── public/                # 静的ファイル
├── FEATURES.md            # 機能一覧
├── SETUP.md               # 詳細セットアップガイド
└── README.md              # このファイル
```

## 🛠️ 技術スタック

### フロントエンド
- **Next.js 14**: Reactフレームワーク（App Router）
- **React 18**: UIライブラリ
- **TypeScript**: 型安全な開発
- **Tailwind CSS**: ユーティリティファーストCSS
- **Lucide React**: アイコンライブラリ

### バックエンド
- **Next.js API Routes**: サーバーレスAPI
- **Prisma ORM**: 型安全なデータベースアクセス
- **PostgreSQL**: リレーショナルデータベース

### AI・機械学習
- **OpenAI API**: 自動タグ付けシステム

### 開発ツール
- **ESLint**: コード品質チェック
- **Prettier**: コードフォーマッター
- **Prisma Studio**: データベースGUI

## 💻 開発コマンド

```bash
# 開発サーバー起動
npm run dev

# 本番ビルド
npm run build

# 本番サーバー起動
npm start

# Lintチェック
npm run lint

# データベースマイグレーション
npm run db:migrate

# Prisma Studio起動
npm run db:studio

# データベースシード
npm run db:seed
```

## 📋 実装済み機能

詳細は [FEATURES.md](./FEATURES.md) を参照してください。

- ✅ 3層構造の投稿システム
- ✅ 130字制限のバリデーション
- ✅ AIによる自動タグ付け
- ✅ 通報システム
- ✅ コミュニティノート機能
- ✅ 全文検索
- ✅ トレンドタグ表示
- ✅ SNS共有機能
- ✅ 画像魚拓化（API実装済み）
- ✅ 管理者ダッシュボード
- ✅ レスポンシブデザイン

## 🔜 今後の実装予定

- 🔐 ユーザー認証（NextAuth.js）
- 👤 ユーザープロフィールページ
- 👥 フォロー/フォロワー機能
- 🔔 リアルタイム通知
- 💬 ダイレクトメッセージ
- 📊 分析ダッシュボード
- 🔖 ブックマーク機能

## 🎨 UI/UXの特徴

- **Twitterライクなデザイン**: 親しみやすく直感的
- **3層構造の視覚化**: 階層的な情報表示
- **レスポンシブ対応**: デスクトップ、タブレット、モバイルに対応
- **モーダルベースの操作**: スムーズなユーザー体験
- **リアルタイムフィードバック**: 文字数カウント、いいね、など

## 🔒 セキュリティ

- 入力値のバリデーション
- SQLインジェクション対策（Prisma ORMによる）
- XSS対策
- CSRF対策（NextAuth.js）
- 管理者権限の分離

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🤝 コントリビューション

プルリクエストを歓迎します！大きな変更の場合は、まずIssueを開いて変更内容を議論してください。

## 📞 サポート

問題が発生した場合は、GitHubのIssuesに報告してください。

---

Made with ❤️ by the Trivia SNS Team
